<!DOCTYPE html>
<html>
<body>

    <h1>TEST Semplice</h1>
    <button id="btn">CLICCAMI</button>
    <p id="out">...</p>

    <script>
        // Metodo piÃ¹ sicuro per agganciare il click
        document.getElementById("btn").addEventListener("click", function() {
            
            document.getElementById("out").innerText = "Provo a connettermi...";
            
            fetch('http://localhost:8080/api/test/ping')
                .then(r => r.text())
                .then(msg => {
                    alert("SUCCESSO: " + msg);
                    document.getElementById("out").innerText = "OK: " + msg;
                    document.getElementById("out").style.color = "green";
                })
                .catch(err => {
                    alert("ERRORE: " + err);
                    document.getElementById("out").innerText = "KO: " + err;
                    document.getElementById("out").style.color = "red";
                });
        });
    </script>

</body>
</html>